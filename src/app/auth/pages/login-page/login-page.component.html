<p-card class="login-card shadow-3">
  <div class="flex flex-column align-items-center mb-5">
    <div class="flex align-items-center mb-4">
      <i class="pi pi-user text-5xl text-primary mr-3"></i>
      <h1 class="text-3xl font-bold text-color">Iniciar Sesión</h1>
    </div>

    <form [formGroup]="loginForm">
      <div class="flex flex-column gap-5">
        <p-floatLabel>
          <input
            id="email"
            formControlName="email"
            type="text"
            pInputText
            class="w-full p-inputtext-lg"
            [ngClass]="{
              'p-invalid':
                loginForm.get('email').invalid && loginForm.get('email').touched
            }"
          />
          <label for="email" class="text-color-secondary"
            >Correo electrónico</label
          >
          <small
            *ngIf="
              loginForm.get('email').invalid && loginForm.get('email').touched
            "
            class="p-error block mt-2"
          >
            Por favor ingrese un correo válido
          </small>
        </p-floatLabel>

        <p-floatLabel>
          <p-password
            [feedback]="false"
            formControlName="password"
            [toggleMask]="true"
            inputStyleClass="w-full p-inputtext-lg"
            [ngClass]="{
              'p-invalid':
                loginForm.get('password').invalid &&
                loginForm.get('password').touched
            }"
          ></p-password>
          <label for="password" class="text-color-secondary">Contraseña</label>
          <small
            *ngIf="
              loginForm.get('password').invalid &&
              loginForm.get('password').touched
            "
            class="p-error block mt-2"
          >
            La contraseña es requerida
          </small>
        </p-floatLabel>
      </div>

      <div class="flex justify-content-between align-items-center mt-4">
        <a
          routerLink="/auth/forgot-password"
          class="text-primary hover:text-primary-600 transition-colors text-sm"
        >
          ¿Olvidó la contraseña?
        </a>
      </div>

      <div
        class="mt-3 flex flex-column align-items-center justify-content-center gap-1"
      >
        <shared-button
          label="Ingresar"
          icon="pi pi-sign-in"
          (click)="login()"
          color="primary"
          [rounded]="true"
          [disabled]="loginForm.invalid"
          styleClass="w-full p-button-lg"
        ></shared-button>

        <p-divider align="center">
          <span class="text-color-secondary text-sm">o</span>
        </p-divider>

        <shared-button
          label="Volver al Inicio"
          icon="pi pi-home"
          (click)="_router.navigate(['/public/home'])"
          color="secondary"
          [outlined]="true"
          [rounded]="true"
          styleClass="w-full p-button-lg"
        ></shared-button>
      </div>
    </form>
  </div>
</p-card>

<p-toast></p-toast>
