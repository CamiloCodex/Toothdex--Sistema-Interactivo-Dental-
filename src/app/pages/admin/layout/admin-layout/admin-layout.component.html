<div class="min-h-screen flex flex-column surface-ground">
  <!-- Top Navigation Bar -->
  <div class="sticky top-0 z-20">
    <div
      class="bg-white shadow-1 px-4 py-3 flex justify-content-between align-items-center"
    >
      <div class="flex align-items-center">
        <!-- Mobile Menu Toggle -->
        <button
          pButton
          icon="pi pi-bars"
          class="mr-2 p-button-text p-button-rounded md:hidden"
          (click)="toggleSidebar()"
        ></button>

        <!-- Logo -->
        <div class="flex align-items-center">
          <img
            src="assets/logo.png"
            alt="Clinic Logo"
            class="mr-3"
            style="height: 50px"
          />
          <h1 class="text-xl font-semibold text-color m-0 hidden md:block">
            Sistema de Gestión Dental
          </h1>
        </div>
      </div>

      <!-- User Actions -->
      <div class="flex align-items-center">
        <div class="mr-3 hidden md:flex align-items-center">
          <p-avatar
            icon="pi pi-user"
            shape="circle"
            size="large"
            styleClass="mr-2"
            [style]="{ 'background-color': '#4F46E5', color: '#ffffff' }"
          ></p-avatar>
          <span class="font-medium text-color">Dr. {{ user.name }}</span>
        </div>

        <p-button
          icon="pi pi-sign-out"
          label="Cerrar Sesión"
          styleClass="p-button-text p-button-danger"
          (onClick)="signOut()"
        ></p-button>
      </div>
    </div>
  </div>

  <!-- Main Content Area -->
  <div class="flex flex-1 relative">
    <!-- Mobile Sidebar (Overlay) -->
    <p-sidebar
      [(visible)]="sidebarVisible"
      position="left"
      styleClass="layout-sidebar"
      [showCloseIcon]="false"
    >
      <ng-container *ngTemplateOutlet="sidebarContent"></ng-container>
    </p-sidebar>

    <!-- Desktop Sidebar -->
    <div
      class="layout-sidebar bg-white border-right-1 surface-border hidden md:block"
    >
      <ng-container *ngTemplateOutlet="sidebarContent"></ng-container>
    </div>

    <!-- Sidebar Content Template -->
    <ng-template #sidebarContent>
      <div class="p-3">
        <p-panelMenu
          [model]="menuItems"
          [style]="{ width: '100%' }"
        ></p-panelMenu>
      </div>
    </ng-template>

    <!-- Main Content -->
    <div class="layout-main flex-1 p-4 overflow-auto">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
